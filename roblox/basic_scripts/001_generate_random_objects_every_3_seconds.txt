local baseplateLengthX = 250
local baseplateHeightY = 1
local baseplateWidthZ = 250
local tagObjectSize = 10

local tagObject = nil

-- Functions
-----------------------
local function getRandomPositiveNegative()
	local num = math.random(0,1);
	if (num < 1) then
		return -1
	else
		return 1
	end
end


local function getRandomPositionOnBaseplate()
	local x = math.random(tagObjectSize / 2, (baseplateLengthX - tagObjectSize) / 2) * getRandomPositiveNegative()
	local y = 0
	local z = math.random(tagObjectSize / 2, (baseplateLengthX - tagObjectSize) / 2) * getRandomPositiveNegative()
	return Vector3.new (x, y, z);
end


local function setupBaseplate(baseplate)
	baseplate.Size = Vector3.new(baseplateLengthX, baseplateHeightY, baseplateWidthZ)
	return baseplate
end


local function setupGame(baseplate)
	local baseplate = setupBaseplate(baseplate)
	print("baseplate name: " .. baseplate.Name)
	baseplate.CFrame = CFrame.new(Vector3.new(0,0,0))
	local spawnLocation = baseplate.Parent:WaitForChild("SpawnLocation")
	spawnLocation.Transparency = 1;
end



local function setObject(obj)
	obj.Size = Vector3.new (tagObjectSize / 2,tagObjectSize / 2 , tagObjectSize / 2);
	obj.Color = Color3.new (math.random(0,255), math.random(0,255), math.random(0,255));
	obj.Position = getRandomPositionOnBaseplate();
	obj.Anchored = true;
	return obj
end


local function createObject()
	local obj = Instance.new("Part", game.Workspace);
	return setObject(obj)
end


local function updateObject(obj)
	if (obj == nil) then
		obj = createObject()
	else
		setObject(obj)
	end

	return obj;
end

------------------------
local function main ()
	local baseplate = game.Workspace:WaitForChild("Baseplate");
	setupGame(baseplate);
	local secondsPassed = 0;
	while (secondsPassed < 120) do
		wait(3)
		tagObject = updateObject(tagObject)
		secondsPassed = secondsPassed + 3
	end

end




main()
